buildscript {
  repositories { maven { url 'https://raw.github.com/laurentvdl/dynamic-extensions-for-alfresco/mvn-repo/' } }
  dependencies {
    classpath group: 'com.github.dynamicextensionsalfresco', name: 'gradle-plugin', version: '1.0.0'
  }
}
apply plugin: 'alfresco-dynamic-extension'

project.description = 'Example Web Scripts, Actions and Behaviours.'

version = '1.0.SNAPSHOT'

dependencies {
  compile 'javax.servlet:servlet-api:2.5'
  compile('org.springframework:spring-context:3.0.0.RELEASE') { transitive = false }
  compile('org.springframework:spring-beans:3.0.0.RELEASE') { transitive = false }
  compile('javax.annotation:jsr250-api:1.0')
  compile("org.activiti:activiti-engine:5.7") {transitive = false}
}

jar {
  manifest {
    instructionReplace 'Bundle-Name', 'Example Dynamic Extension'
    instruction 'Bundle-Description', project.description
    instruction 'Bundle-DocURL', 'https://github.com/lfridael/example-dynamic-extension'
    instruction 'Alfresco-Spring-Configuration', 'com.github.dynamicextensionsalfresco.examples' // optional
  }
}

installBundle {
  // Install the bundle through the Dynamic Extensions REST API
  toRepository username: username ?: "admin", password: password ?: "admin"
  // To pass the username/password through the command-line:
  // gradle installBundle -Pusername=... -Ppassword...
}
